<!DOCTYPE html>
<html lang="en-us">

    <head>

        <title>Trick or Tips 003 {R}</title>

        <style>

    html body {
        font-family: Lato, sans-serif;
        background-color: white;
    }

    :root {
        --accent: #3fb3b2;
        --border-width:  5px ;
    }

</style>


<link rel="stylesheet" href="../../../../css/main.css">


 <link rel="stylesheet" href="css/style.css"> 


<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">


 <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css"> 


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">



<link rel="stylesheet" href="../../../../css/academicons.min.css" />


<link rel="stylesheet" href="../../../../css/font-awesome.min.css" />



<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css" />
<link rel="stylesheet" href="../../../../css/jquery.tocify.css" />
 


    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

    

    <script>hljs.initHighlightingOnLoad();</script>







<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>



 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
 <script src="../../../../js/jquery.tocify.min.js"></script>
 <meta name="generator" content="Hugo 0.37.1" />

        <meta charset="utf-8">

        <meta name="viewport" content="width=device-width, initial-scale=1">

        

        
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-109508556-1"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments)};
          gtag('js', new Date());
          gtag('config', 'UA-109508556-1');
        </script>
        


    </head>

    <body>

        <nav class="navbar navbar-default navbar-fixed-top">

            <div class="container">

                <div class="navbar-header">

                    <a class="navbar-brand visible-xs" href="#">Trick or Tips 003 {R}</a>

                    <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                </div>

                <div class="collapse navbar-collapse">

                    
                        <ul class="nav navbar-nav">
                            
                                <li><a href="../../../../">Home</a></li>
                            
                                <li><a href="../../../../about/">About</a></li>
                            
                                <li><a href="../../../../post/">Posts</a></li>
                            
                                <li><a href="../../../../softwares/">Softwares</a></li>
                            
                                <li><a href="../../../../tutorials/">Tutorials</a></li>
                            
                        </ul>
                    

                    
                        <ul class="nav navbar-nav navbar-right">
                            
                                <li class="navbar-icon"><a href="https://github.com/inSileco/"><i class="fa fa-github"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://twitter.com/inSileco/"><i class="fa fa-twitter"></i></a></li>
                            
                        </ul>
                    

                </div>

            </div>

        </nav>


<img class="full-width" width="100%" src="../../../../img/banner2.png"></img>




<div>


  <div class="col-md-3">
    <div class="hidden-sm hidden-xs">
      <div id="toc"></div>
    </div>
  </div>

  <div class="col-md-8">

    <h1><a href="../../../../2018/02/11/trick-or-tips-003-r/">Trick or Tips 003 {R}</a></h1>

    <h5>February 11, 2018</h5>

    <p> <a href="../../../../tags/r"><kbd class="item-tag">R</kbd></a>  <a href="../../../../tags/tips"><kbd class="item-tag">tips</kbd></a>  <a href="../../../../tags/trickortips"><kbd class="item-tag">trickortips</kbd></a> </p>


    
      <p style = "font-size: 1.6em; margin-top: 20px"> <i class="fa fa-pencil" aria-hidden="true"></i>
       
        <a href="../../../../about/">Kevin Cazelles &nbsp;
       
        <a href="../../../../about/">David Beauchesne &nbsp;
      
    </a> <a href="#"></a></p>
    


    

    


    <p> <a href="https://twitter.com/share" class="twitter-share-button" data-show-count="true" data-text="Third post of the &#39;Trick or Tips&#39; series">Tweet</a>
      <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
    </p>


    <div class="text-justify">
      <p>
      
      </p>
    </div>


    <br>

    <div class="text-justify">

      <h3>Trick or Tips?</h3>

Ever tumbled on a code chunk that made you say:
"<em>I should have known this ¶ø?!@~&* piece of code long ago!?</em>"
Chances are you have, frustratingly, just like we have, and on multiple occasions too.

<br><br>

In comes <b>Trick or Tips</b>!

<br><br>

<b>Trick or Tips</b> is a series of blog posts that each
present 5 -- hopefully helpful -- coding tips for a specific programming
language. Posts should be short (<em>i.e.</em> no more than 5 lines of code,
max 80 characters per line, except when appropriate) and provide tips of
many kind: a function, a way of combining of functions, a single argument,
a note about the philosophy of the language and practical consequences,
tricks to improve the way you code, good practices, etc.

<br><br>

Note that while some tips might be obvious for careful documentation readers
(God bless them for their wisdom), we do our best to present what we find very
useful and underestimated. By the way, there are undoubtedly similar initiatives on the web (<em>e.g.</em>
<a href = "https://twitter.com/RLangTip">"One R Tip a Day" Twitter account</a>). Also, feel
free to comment below tip ideas or a post of code tips of your own which we will be
happy to incorporate to <b>Trick or Tips</b>.

Enjoy <i class="fas fa-smile" aria-hidden></i> and get ready to frustratingly appreciate our tips!

<p><br></p>
<div id="the-apropos-function" class="section level2">
<h2>The <code>apropos()</code> function</h2>
<p>A powerful way to look for a function you can barely remember the name of directly in R, <em>i.e</em> without googling!</p>
<pre class="r"><code>apropos(&#39;Sys&#39;)
#R&gt;  [1] &quot;.First.sys&quot;       &quot;R_system_version&quot; &quot;sys.call&quot;        
#R&gt;  [4] &quot;sys.calls&quot;        &quot;Sys.chmod&quot;        &quot;Sys.Date&quot;        
#R&gt;  [7] &quot;sys.frame&quot;        &quot;sys.frames&quot;       &quot;sys.function&quot;    
#R&gt; [10] &quot;Sys.getenv&quot;       &quot;Sys.getlocale&quot;    &quot;Sys.getpid&quot;      
#R&gt; [13] &quot;Sys.glob&quot;         &quot;Sys.info&quot;         &quot;sys.load.image&quot;  
#R&gt; [16] &quot;Sys.localeconv&quot;   &quot;sys.nframe&quot;       &quot;sys.on.exit&quot;     
#R&gt; [19] &quot;sys.parent&quot;       &quot;sys.parents&quot;      &quot;Sys.readlink&quot;    
#R&gt; [22] &quot;sys.save.image&quot;   &quot;Sys.setenv&quot;       &quot;Sys.setFileTime&quot; 
#R&gt; [25] &quot;Sys.setlocale&quot;    &quot;Sys.sleep&quot;        &quot;sys.source&quot;      
#R&gt; [28] &quot;sys.status&quot;       &quot;Sys.time&quot;         &quot;Sys.timezone&quot;    
#R&gt; [31] &quot;Sys.umask&quot;        &quot;Sys.unsetenv&quot;     &quot;Sys.which&quot;       
#R&gt; [34] &quot;system&quot;           &quot;system.file&quot;      &quot;system.time&quot;     
#R&gt; [37] &quot;system2&quot;</code></pre>
<p>You can also take advantage of regular expressions to narrow down you research:</p>
<pre class="r"><code>apropos(&#39;^Sys&#39;)
#R&gt;  [1] &quot;sys.call&quot;        &quot;sys.calls&quot;       &quot;Sys.chmod&quot;      
#R&gt;  [4] &quot;Sys.Date&quot;        &quot;sys.frame&quot;       &quot;sys.frames&quot;     
#R&gt;  [7] &quot;sys.function&quot;    &quot;Sys.getenv&quot;      &quot;Sys.getlocale&quot;  
#R&gt; [10] &quot;Sys.getpid&quot;      &quot;Sys.glob&quot;        &quot;Sys.info&quot;       
#R&gt; [13] &quot;sys.load.image&quot;  &quot;Sys.localeconv&quot;  &quot;sys.nframe&quot;     
#R&gt; [16] &quot;sys.on.exit&quot;     &quot;sys.parent&quot;      &quot;sys.parents&quot;    
#R&gt; [19] &quot;Sys.readlink&quot;    &quot;sys.save.image&quot;  &quot;Sys.setenv&quot;     
#R&gt; [22] &quot;Sys.setFileTime&quot; &quot;Sys.setlocale&quot;   &quot;Sys.sleep&quot;      
#R&gt; [25] &quot;sys.source&quot;      &quot;sys.status&quot;      &quot;Sys.time&quot;       
#R&gt; [28] &quot;Sys.timezone&quot;    &quot;Sys.umask&quot;       &quot;Sys.unsetenv&quot;   
#R&gt; [31] &quot;Sys.which&quot;       &quot;system&quot;          &quot;system.file&quot;    
#R&gt; [34] &quot;system.time&quot;     &quot;system2&quot;</code></pre>
<p>Or even better:</p>
<pre class="r"><code>apropos(&#39;^Sys.*time$&#39;, ignore.case = FALSE)
#R&gt; [1] &quot;Sys.time&quot;</code></pre>
<p><br></p>
</div>
<div id="the-table-function" class="section level2">
<h2>The <code>table()</code> function</h2>
<p>Oftentimes we wish to extract the frequency of certain elements in a dataset. There is a very useful function that allows us to achieve this quite efficiently: <code>table()</code>. Let’s see how this works:</p>
<pre class="r"><code>df &lt;- data.frame(data = sample(1:5, 20, replace = T))
table(df$data)
#R&gt; 
#R&gt; 1 2 3 4 5 
#R&gt; 3 3 3 6 5</code></pre>
<p>You can also get the frequency for a data.frame with multiple columns. For example, if you observed species at a site throughout multiple years and wanted to know the frequency of observations per species per year:</p>
<pre class="r"><code>df &lt;- data.frame(observations = paste0(&#39;species&#39;, sample(1:5, 50, replace = T)),
                 year = sort(sample(2015:2018, 50, replace = T)))
table(df)
#R&gt;             year
#R&gt; observations 2015 2016 2017 2018
#R&gt;     species1    2    2    2    3
#R&gt;     species2    4    2    0    1
#R&gt;     species3    3    3    3    3
#R&gt;     species4    0    6    1    4
#R&gt;     species5    2    2    3    4</code></pre>
<p>You can actually do so for more than two columns.</p>
<pre class="r"><code>df$atr1 &lt;- rep(c(&quot;val1&quot;, &quot;val2&quot;), each = 25)
tb &lt;- table(df)
tb
#R&gt; , , atr1 = val1
#R&gt; 
#R&gt;             year
#R&gt; observations 2015 2016 2017 2018
#R&gt;     species1    2    2    0    0
#R&gt;     species2    4    2    0    0
#R&gt;     species3    3    3    0    0
#R&gt;     species4    0    5    0    0
#R&gt;     species5    2    2    0    0
#R&gt; 
#R&gt; , , atr1 = val2
#R&gt; 
#R&gt;             year
#R&gt; observations 2015 2016 2017 2018
#R&gt;     species1    0    0    2    3
#R&gt;     species2    0    0    0    1
#R&gt;     species3    0    0    3    3
#R&gt;     species4    0    1    1    4
#R&gt;     species5    0    0    3    4</code></pre>
<p>As you can see, in such case, you will have to deal with arrays:</p>
<pre class="r"><code>tb[, , 1]
#R&gt;             year
#R&gt; observations 2015 2016 2017 2018
#R&gt;     species1    2    2    0    0
#R&gt;     species2    4    2    0    0
#R&gt;     species3    3    3    0    0
#R&gt;     species4    0    5    0    0
#R&gt;     species5    2    2    0    0</code></pre>
<p>With further development and by combining <code>table()</code> with <code>paste0()</code> (see <a href="https://insileco.github.io/2017/06/30/trick-or-tips-001-r/">fish and tips 001</a> for an explanation of this useful function!), you can create your desired data.frame:</p>
<pre class="r"><code>as.data.frame(table(paste0(df$year,&#39;_&#39;,df$observations)))
#R&gt;             Var1 Freq
#R&gt; 1  2015_species1    2
#R&gt; 2  2015_species2    4
#R&gt; 3  2015_species3    3
#R&gt; 4  2015_species5    2
#R&gt; 5  2016_species1    2
#R&gt; 6  2016_species2    2
#R&gt; 7  2016_species3    3
#R&gt; 8  2016_species4    6
#R&gt; 9  2016_species5    2
#R&gt; 10 2017_species1    2
#R&gt; 11 2017_species3    3
#R&gt; 12 2017_species4    1
#R&gt; 13 2017_species5    3
#R&gt; 14 2018_species1    3
#R&gt; 15 2018_species2    1
#R&gt; 16 2018_species3    3
#R&gt; 17 2018_species4    4
#R&gt; 18 2018_species5    4</code></pre>
<p><br></p>
</div>
<div id="everything-but-0" class="section level2">
<h2>Everything but 0</h2>
<p>This is a well-known trick for developers that may be useful for many beginners. In R when performing a logical test, every numeric is considered as <code>TRUE</code> but <code>0</code> (which is <code>FALSE</code>):</p>
<pre class="r"><code>0 == FALSE
!0
!1
!7.45
#R&gt; [1] TRUE
#R&gt; [1] TRUE
#R&gt; [1] FALSE
#R&gt; [1] FALSE</code></pre>
<p>This can actually be very helpful, for instance when we are testing whether or not a vector is empty!</p>
<pre class="r"><code>vec0 &lt;- 1:7
vec1 &lt;- vec0[vec0&gt;5]
vec2 &lt;- vec0[vec0&gt;7]
!(length(vec1))
!(length(vec2))
#R&gt; [1] FALSE
#R&gt; [1] TRUE</code></pre>
<p><br></p>
</div>
<div id="expand.grid-vs.combn" class="section level2">
<h2><code>expand.grid()</code> vs.<code>combn()</code></h2>
<p>If you often create empty data.frame, you are very likely already familiar with the <code>expand.grid()</code> function:</p>
<pre class="r"><code>expand.grid(LETTERS[1:4], LETTERS[5:6])
#R&gt;   Var1 Var2
#R&gt; 1    A    E
#R&gt; 2    B    E
#R&gt; 3    C    E
#R&gt; 4    D    E
#R&gt; 5    A    F
#R&gt; 6    B    F
#R&gt; 7    C    F
#R&gt; 8    D    F</code></pre>
<p>But if you are looking for unique combinations (think about all combinations of games in a tournament of four team), you may feel that <code>expand.grid()</code> is not what you need:</p>
<pre class="r"><code>expand.grid(LETTERS[1:4], LETTERS[1:4])
#R&gt;    Var1 Var2
#R&gt; 1     A    A
#R&gt; 2     B    A
#R&gt; 3     C    A
#R&gt; 4     D    A
#R&gt; 5     A    B
#R&gt; 6     B    B
#R&gt; 7     C    B
#R&gt; 8     D    B
#R&gt; 9     A    C
#R&gt; 10    B    C
#R&gt; 11    C    C
#R&gt; 12    D    C
#R&gt; 13    A    D
#R&gt; 14    B    D
#R&gt; 15    C    D
#R&gt; 16    D    D</code></pre>
<p>In comes <code>combn</code>:</p>
<pre class="r"><code>combn(LETTERS[1:5], 2)
#R&gt;      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
#R&gt; [1,] &quot;A&quot;  &quot;A&quot;  &quot;A&quot;  &quot;A&quot;  &quot;B&quot;  &quot;B&quot;  &quot;B&quot;  &quot;C&quot;  &quot;C&quot;  &quot;D&quot;  
#R&gt; [2,] &quot;B&quot;  &quot;C&quot;  &quot;D&quot;  &quot;E&quot;  &quot;C&quot;  &quot;D&quot;  &quot;E&quot;  &quot;D&quot;  &quot;E&quot;  &quot;E&quot;</code></pre>
<p>As you can see you need to specify the number of elements in the combination as <code>combn</code> can compute all combination</p>
<pre class="r"><code>combn(LETTERS[1:5], 4)
#R&gt;      [,1] [,2] [,3] [,4] [,5]
#R&gt; [1,] &quot;A&quot;  &quot;A&quot;  &quot;A&quot;  &quot;A&quot;  &quot;B&quot; 
#R&gt; [2,] &quot;B&quot;  &quot;B&quot;  &quot;B&quot;  &quot;C&quot;  &quot;C&quot; 
#R&gt; [3,] &quot;C&quot;  &quot;C&quot;  &quot;D&quot;  &quot;D&quot;  &quot;D&quot; 
#R&gt; [4,] &quot;D&quot;  &quot;E&quot;  &quot;E&quot;  &quot;E&quot;  &quot;E&quot;</code></pre>
<p>Also if you want a dataframe, a small extra step is required:</p>
<pre class="r"><code>as.data.frame(t(combn(LETTERS[1:5], 2)))
#R&gt;    V1 V2
#R&gt; 1   A  B
#R&gt; 2   A  C
#R&gt; 3   A  D
#R&gt; 4   A  E
#R&gt; 5   B  C
#R&gt; 6   B  D
#R&gt; 7   B  E
#R&gt; 8   C  D
#R&gt; 9   C  E
#R&gt; 10  D  E</code></pre>
<p><br></p>
</div>
<div id="writing-outside-the-margins" class="section level2">
<h2>Writing outside the margins</h2>
<p>If you are always thinking outside the box you may want to learn how to plot something outside the margins! This is possible using the <code>xpd</code> parameter of the <code>par()</code> function.</p>
<pre class="r"><code>par(mfrow = c(1, 2))
plot(c(0, 2), c(0, 2))
lines(c(-1,3), c(1,1), lwd = 4)
##
par(xpd = TRUE)
plot(c(0, 2), c(0, 2))
lines(c(-1,3), c(1,1), lwd = 4)</code></pre>
<p><img src="../../../../post/trick_or_tips003_files/figure-html/xpd2-1.svg" width="672" style="display: block; margin: auto;" /></p>
<p><br></p>
<div id="see-you-next-post-post" class="section level3">
<h3>See you next post post!</h3>
<p><br></p>
</div>
</div>


    </div>



    <h3 class="page-header">Comments on this post</h3>

    <div id="disqus_thread"></div>


    
    


    
      <h3 class="page-header">Related posts</h3>
       <div class="item">

  

  <h1><a href="../../../../2018/02/21/hierarchical-edge-bundling-using-base-plot/">Hierarchical edge bundling using base plot</a></h1>

  <h5>February 21, 2018</h5>

  <p> <a href="../../../../tags/r"><kbd class="item-tag">R</kbd></a>  <a href="../../../../tags/viz"><kbd class="item-tag">Viz</kbd></a>  <a href="../../../../tags/network"><kbd class="item-tag">network</kbd></a> </p>

  

</div>
  <div class="item">

  

  <h1><a href="../../../../2017/11/12/trick-or-tips-002-r/">Trick or Tips 002 {R}</a></h1>

  <h5>November 12, 2017</h5>

  <p> <a href="../../../../tags/r"><kbd class="item-tag">R</kbd></a>  <a href="../../../../tags/tips"><kbd class="item-tag">tips</kbd></a>  <a href="../../../../tags/trickortips"><kbd class="item-tag">trickortips</kbd></a> </p>

  

</div>
  <div class="item">

  

  <h1><a href="../../../../2017/09/20/gantt-charts-in-r/">Gantt charts in R</a></h1>

  <h5>September 20, 2017</h5>

  <p> <a href="../../../../tags/r"><kbd class="item-tag">R</kbd></a>  <a href="../../../../tags/time-management"><kbd class="item-tag">time management</kbd></a>  <a href="../../../../tags/gantt"><kbd class="item-tag">gantt</kbd></a> </p>

  

</div>
 
    


    <script>
        $(function() {

            var toc = $("#toc").tocify({
              selectors: "h2,h3",
              scrollTo: 60
            }).data("toc-tocify");

            prettyPrint();
            $(".optionName").popover({ trigger: "hover" });

        });
    </script>

    <script>
      


      var disqus_config = function() {
        this.page.url = "https://insileco.github.io" + "https://insileco.github.io/2018/02/11/trick-or-tips-003-r/"; 
        this.page.identifier = "Trick or Tips 003 {R}"; 
      };

      (function() { 
        var d = document,
          s = d.createElement('script');
        s.src = 'https://insileco.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  </div>
</div>

        <footer>

            <p class="copyright text-muted">&copy; 2018 inSileco | All rights reserved | Powered by <a href="https://bookdown.org/yihui/blogdown/">Blogdown</a>,  <a href="https://gohugo.io">Hugo</a> and <a href="https://github.com/calintat/minimal">Minimal</a>.</p>

        </footer>

    </body>

</html>

